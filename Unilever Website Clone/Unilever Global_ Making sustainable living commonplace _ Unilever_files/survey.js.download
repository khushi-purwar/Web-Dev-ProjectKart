/*! For license information please see bowencraggs-surveywidget-2.0.37.min.js.LICENSE.txt */
!(function (e) {
  var t = {};
  function n(r) {
    if (t[r]) return t[r].exports;
    var i = (t[r] = { i: r, l: !1, exports: {} });
    return e[r].call(i.exports, i, i.exports, n), (i.l = !0), i.exports;
  }
  (n.m = e),
    (n.c = t),
    (n.d = function (e, t, r) {
      n.o(e, t) || Object.defineProperty(e, t, { enumerable: !0, get: r });
    }),
    (n.r = function (e) {
      'undefined' != typeof Symbol &&
        Symbol.toStringTag &&
        Object.defineProperty(e, Symbol.toStringTag, { value: 'Module' }),
        Object.defineProperty(e, '__esModule', { value: !0 });
    }),
    (n.t = function (e, t) {
      if ((1 & t && (e = n(e)), 8 & t)) return e;
      if (4 & t && 'object' == typeof e && e && e.__esModule) return e;
      var r = Object.create(null);
      if ((n.r(r), Object.defineProperty(r, 'default', { enumerable: !0, value: e }), 2 & t && 'string' != typeof e))
        for (var i in e)
          n.d(
            r,
            i,
            function (t) {
              return e[t];
            }.bind(null, i)
          );
      return r;
    }),
    (n.n = function (e) {
      var t =
        e && e.__esModule
          ? function () {
              return e.default;
            }
          : function () {
              return e;
            };
      return n.d(t, 'a', t), t;
    }),
    (n.o = function (e, t) {
      return Object.prototype.hasOwnProperty.call(e, t);
    }),
    (n.p = '/'),
    n((n.s = 0));
})([
  function (e, t, n) {
    e.exports = n(1);
  },
  function (e, t, n) {
    (function () {
      (window.BowenCraggs = n(2)),
        (BowenCraggs.surveywidget.init = function (e) {
          'use strict';
          this.JSSurvey.init(e);
        }),
        (BowenCraggs.surveywidget.addHiddenQuestion = BowenCraggs.surveywidget.JSSurvey.addHiddenQuestion),
        (BowenCraggs.surveywidget.removeHiddenQuestion = BowenCraggs.surveywidget.JSSurvey.removeHiddenQuestion),
        (BowenCraggs.surveywidget.updateSettings = BowenCraggs.surveywidget.JSSurvey.updateSettings);
    }.call(this));
  },
  function (e, t, n) {
    function r(e) {
      return (r =
        'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator
          ? function (e) {
              return typeof e;
            }
          : function (e) {
              return e && 'function' == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype
                ? 'symbol'
                : typeof e;
            })(e);
    }
    (function () {
      'use strict';
      var e = e || {};
      (e.JSSurvey = {
        defaults: {
          survey: {
            surveys: {
              feedbackHtml: '',
              counter: 5,
              screenreader_text: 'Survey Invitation - press escape to dismiss',
              screenreader_new_window_warning: 'opens in new window',
              name1: {
                name: 'name1',
                lang: '',
                surveyURL: 'http://www.clicktools.com/survey?iv=aaaaaaaaaaaaaaa',
                design: 'modal',
                presentation: '_blank',
                windowWidth: '500',
                windowHeight: '600',
                windowScrolling: 'yes',
                windowResize: 'no',
                windowMenu: 'no',
                windowLocation: 'no',
                windowStatus: 'yes',
                timer: 2e3,
                ratio: 1,
                frequency: 0,
                expiry: 90,
                trapfocus: 1,
                gaMetrics: { questionStart: 10, source: 1, medium: 1, term: 1, content: 1, campaign: 1 },
                gaEvents: !0,
                gaEventsCategory: 'Bowen Craggs Survey',
                gaEventsUA: '',
              },
              name2: {
                name: 'name2',
                lang: '',
                surveyURL: 'http://www.clicktools.com/survey?iv=bbbbbbbbbbbbbbbb',
                design: 'modal',
                presentation: '_blank',
                windowWidth: '500',
                windowHeight: '600',
                windowScrolling: 'yes',
                windowResize: 'no',
                windowMenu: 'no',
                windowLocation: 'no',
                windowStatus: 'yes',
                timer: 2e3,
                ratio: 1,
                frequency: 0,
                expiry: 90,
                trapfocus: 1,
                gaMetrics: { questionStart: 10, source: 1, medium: 1, term: 1, content: 1, campaign: 1 },
                gaEvents: !0,
                gaEventsCategory: 'Bowen Craggs Survey',
                gaEventsUA: '',
              },
            },
            feedback: {
              active: 0,
              type: 1,
              text: 'Please tell us about your visit',
              url: 'http://www.clicktools.com/survey?iv=3a124d8e0d661ed',
              presentation: 'new',
              windowWidth: '500',
              windowHeight: '600',
              windowScrolling: 'yes',
              windowResize: 'yes',
              windowMenu: 'yes',
              windowLocation: 'no',
              windowStatus: 'yes',
              alignment: 3,
              font: 'Arial, helvetica, sans-serif',
              fontSize: '11pt',
              color: '#000',
              underline: 'underline',
              background: '#fa0',
              padding: '10px 10px 10px 10px',
              image: '/img/feedback.png',
              expiry: 0.001,
            },
            modal: {
              screenreader_text: 'Survey Invitation - press escape to dismiss',
              screenreader_new_window_warning: 'opens in new window',
              logo: { width: '50px', height: '50px', alt: '' },
              background: { color: '#E5E5E5', opacity: '60' },
              mWindow: { background: 'white', padding: '1em', autocenter: !0, border: '1px solid #333' },
              header: {
                text: 'The heading',
                background: '',
                backgroundImage: '',
                border: 'none',
                margin: '0',
                padding: '8px 10px',
                font: 'Arial, helvetica, sans-serif',
                fontSize: '14px',
                color: '#333',
              },
              question: {
                text: "This is the question.<br />With a carriage return and a <a href='#'>Link</a>",
                background: '',
                backgroundImage: '',
                border: 'none',
                margin: '0',
                padding: '5px 10px',
                font: 'Arial, helvetica, sans-serif',
                fontSize: '12px',
                color: '#333',
              },
              answers: { padding: '10px', borderTop: '0', borderBottom: '0' },
              answer1: {
                type: 'decline',
                text: 'no',
                background: '#006CB5',
                backgroundImage: '',
                border: '1px solid #006CB5',
                margin: '0',
                padding: '2px 15px',
                font: 'Arial, helvetica, sans-serif',
                fontSize: '12px',
                color: '#fff',
              },
              answer2: {
                type: 'accept',
                text: 'yes',
                background: '#006CB5',
                backgroundImage: '',
                border: '1px solid #006CB5',
                margin: '0',
                padding: '2px 15px',
                font: 'Arial, helvetica, sans-serif',
                fontSize: '12px',
                color: '#fff',
              },
            },
          },
          jssurls: [],
        },
        target: document.getElementsByTagName('body')[0],
        pageCounter: 0,
        matchedURL: '',
        init: function (e) {
          (this.defaultsDeep = n(3)),
            this.defaultsDeep(e, this.defaults),
            (this.JSSsettings = e),
            (this.JSSurls = e.jssurls);
          var t,
            r = this.readCookie('JSSCounter'),
            i = this.getSearchParameter();
          if (i.bctestmode)
            switch (i.bctestmode) {
              case '0':
                this.writeCookie('JSStestmode', 0, '/');
                break;
              default:
                this.writeCookie('JSStestmode', 1, '/');
            }
          if (
            ('' != r
              ? ((this.pageCounter = parseInt(r)),
                (this.pageCounter = this.pageCounter + 1),
                this.writeCookie('JSSCounter', this.pageCounter, '/'))
              : this.writeCookie('JSSCounter', 0, '/'),
            1 == this.JSSsettings.survey.feedback.active && this.feedBackLink(),
            this.isTestMode() || this.pageCounter >= this.JSSsettings.survey.surveys.counter)
          ) {
            for (var o = 0; o < this.JSSurls.length; o++) {
              var a = this.JSSurls[o];
              0 == document.location.href.indexOf(a[0]) && (t = a);
            }
            !t && this.isTestMode() && (t = this.JSSurls[0]),
              t && t[1].length > 0 && 'false' !== t[1] && this.modal(t),
              (this.matchedURL = t);
          }
        },
        randomNum: function (e) {
          return Math.floor(Math.random() * e);
        },
        feedBackLink: function () {
          var e = 0;
          if (('decline' == this.readCookie('feedback') && (e = 1), 0 == e)) {
            var t = this.JSSsettings.survey.feedback,
              n = document.createElement('div');
            n.id = 'JSSFB';
            var r = document.createElement('a');
            switch (
              ((r.id = 'JSSFeedBack'),
              (r.href = t.url),
              (r.onclick = function () {
                var e = BowenCraggs.surveywidget.JSSurvey;
                return (
                  '_self' == t.presentation
                    ? (document.location.href = this)
                    : 'new' == t.presentation
                    ? e.openURL({
                        url: this,
                        winName: t.presentation,
                        chrome:
                          'width=' +
                          t.windowWidth +
                          ',height=' +
                          t.windowHeight +
                          ',resizable=' +
                          t.windowResize +
                          ',scrollbars=' +
                          t.windowScrolling +
                          ',menubar=' +
                          t.windowMenu +
                          ',status=' +
                          t.windowStatus +
                          ',location=' +
                          t.windowLocation,
                      })
                    : e.openURL({ url: this, winName: t.presentation }),
                  !1
                );
              }),
              (n.style.position = 'fixed'),
              -1 != navigator.appVersion.indexOf('MSIE 6.') && (n.style.position = 'absolute'),
              (n.style.float = 'left'),
              (n.style.width = 'auto'),
              (n.style.outline = '0'),
              t.alignment)
            ) {
              case 1:
                (n.style.top = '0'), (n.style.left = '0');
                break;
              case 2:
                (n.style.top = '0'), (n.style.right = '0');
                break;
              case 3:
                (n.style.bottom = '0'), (n.style.right = '0');
                break;
              case 4:
                (n.style.bottom = '0'), (n.style.left = '0');
                break;
              default:
                (n.style.bottom = '0'), (n.style.left = '0');
            }
            var i = document.createElement('a');
            if (
              ((i.id = 'JSSClose'),
              (i.href = '#'),
              (i.innerHTML = 'x'),
              (i.style.position = 'absolute'),
              (i.style.right = '0'),
              (i.style.top = '0'),
              (i.style.display = 'block'),
              (i.style.float = 'right'),
              (i.style.outline = 'none'),
              (i.style.background = 'url(bc-survey/JSSclose.png) top left no-repeat'),
              (i.style.width = '11px'),
              (i.style.height = '10px'),
              (i.style.textIndent = '-500em'),
              (i.onclick = function () {
                this.target.removeChild(document.getElementById('JSSFB')),
                  this.writeCookie('JSSfeedback', 'decline', '/', t.expiry);
              }),
              1 == t.type)
            )
              (r.style.fontFamily = t.font),
                (r.style.fontSize = t.fontSize),
                (r.style.color = t.color),
                (r.style.textDecoration = t.underline),
                (r.style.background = t.background),
                (r.style.padding = t.padding),
                (r.style.display = 'block'),
                (r.style.float = 'left'),
                (r.style.width = 'auto'),
                r.appendChild(document.createTextNode(t.text));
            else {
              var o = document.createElement('img');
              (o.src = t.image), (o.border = '0'), r.appendChild(o);
            }
            var a,
              s = !1,
              u = this.JSSsettings.survey.surveys.feedbackHtml;
            if (null != u && null != u) {
              var c = new XMLHttpRequest();
              c.open('GET', u, !1), c.send(null), null != (a = c.responseText) && null != a && (s = !0);
            }
            if (s) {
              n.innerHTML = a;
              var d = this.getElementsByTagName(n, 'style');
              null != d[0] && (this.addCss(d[0].innerHTML), n.removeChild(d[0])),
                (n.style.fontFamily = t.font),
                (n.style.fontSize = t.fontSize),
                (n.style.color = t.color),
                (n.style.background = t.background),
                (n.style.padding = t.padding),
                (n.style.display = 'block'),
                (n.style.float = 'left'),
                (n.style.width = 'auto');
              var l = this.getElementsByClassName(n, 'survey-yes');
              null != l &&
                null != l &&
                ((l[0].href = r.href), (l[0].onclick = r.onclick), (l[0].style.textDecoration = t.underline));
              var f = this.getElementsByClassName(n, 'survey-no');
              null != f &&
                null != f &&
                ((f[0].href = i.href), (f[0].onclick = i.onclick), (f[0].style.textDecoration = t.underline));
            } else n.appendChild(r), n.appendChild(i);
            this.target.appendChild(n);
          }
        },
        modal: function (e) {
          var t = this,
            i = e,
            o = this.getCookiePath(i),
            a = this.JSSsettings.survey.surveys[i[1]].design,
            s = this.JSSsettings.survey[a];
          if ('object' !== r(s)) return !1;
          var u = 0,
            c = i[1],
            d = this.readCookie(c + 'No');
          if (
            ('' != d && (d = parseInt(d)) >= this.JSSsettings.survey.surveys[i[1]].frequency && (u = 1),
            '1' == this.readCookie(c + 'Yes') && (u = 1),
            this.isTestMode() || 0 == u)
          ) {
            var l = this.randomNum(this.JSSsettings.survey.surveys[i[1]].ratio);
            if (this.isTestMode() || 0 == l) {
              var f = '',
                g = document.createElement('div');
              (g.id = 'JSOverlay'),
                (f +=
                  '#JSOverlay { position: fixed; top: 0; left: 0; height: 100%; width: 100%; z-index: 999; ' +
                  this.addCssAttribute('background-color', s.background.color) +
                  this.addCssAttribute('opacity', parseInt(s.background.opacity) / 100) +
                  this.addCssAttribute('filter', 'alpha(opacity=' + s.background.opacity + ')') +
                  ' }\n');
              var v,
                p = document.createElement('div');
              if (
                ((p.id = 'JSQuestion'),
                (p.className = 'survey-modal'),
                void 0 !== this.JSSsettings.survey.surveys[i[1]].lang &&
                  this.JSSsettings.survey.surveys[i[1]].lang.length > 0)
              ) {
                var h = this.JSSsettings.survey.surveys[i[1]].lang;
                p.setAttribute('lang', h);
              }
              p.setAttribute('role', 'alertdialog'),
                null != s.header.text && s.header.text.length > 0
                  ? p.setAttribute('aria-Labelledby', 'bowencraggssurveywidgetheader')
                  : p.setAttribute('aria-label', 'Bowen Craggs Survey Dialog - escape to close'),
                null != s.question.text &&
                  s.question.text.length > 0 &&
                  p.setAttribute('aria-describedby', 'bowencraggssurveywidgetquestion'),
                (v =
                  null != s.mWindow.backgroundImage && s.mWindow.backgroundImage.length > 0
                    ? s.mWindow.backgroundImage
                    : s.mWindow.background);
              var y,
                b,
                m = parseInt(s.mWindow.width),
                w = parseInt(s.mWindow.height);
              w && (y = '-' + w / 2 + 'px'),
                m && (b = '-' + m / 2 + 'px'),
                (f +=
                  '#JSQuestion { position: fixed; top: 50%; left: 50%; z-index: 1000; ' +
                  this.addCssAttribute('width', s.mWindow.width) +
                  this.addCssAttribute('height', s.mWindow.height) +
                  this.addCssAttribute('border', s.mWindow.border) +
                  this.addCssAttribute('background', v) +
                  this.addCssAttribute('margin-top', y) +
                  this.addCssAttribute('margin-left', b) +
                  ' }\n');
              var S = document.createElement('div');
              S.className = 'survey-inner';
              var C = s.mWindow.padding;
              if (
                ((void 0 === s.mWindow.padding || !s.mWindow.padding.length > 0) && (C = 16),
                NaN !== parseInt(C) && (C = parseInt(C) + 'px'),
                (f += '#JSQuestion .survey-inner { ' + this.addCssAttribute('padding', C) + '}\n'),
                void 0 !== s.logo.url && s.logo.url.length > 0)
              ) {
                var _ = document.createElement('div');
                _.className = 'survey-logo';
                var k = document.createElement('img');
                (k.src = s.logo.url),
                  void 0 !== s.logo.alt && s.logo.alt.length > 0
                    ? k.setAttribute('alt', s.logo.alt)
                    : k.setAttribute('alt', ''),
                  (f +=
                    '#JSQuestion .survey-logo { float: left; margin-right: 8px; margin-bottom: 8px; ' +
                    this.addCssAttribute('margin-top', '-' + C) +
                    this.addCssAttribute('margin-left', '-' + C) +
                    this.addCssAttribute('width', s.logo.width) +
                    this.addCssAttribute('height', s.logo.height) +
                    ' }\n'),
                  _.appendChild(k),
                  S.appendChild(_);
              }
              var A = document.createElement('div');
              if (
                ((A.className = 'survey-header'),
                (A.background = s.header.background),
                (A.id = 'bowencraggssurveywidgetheader'),
                null != s.header.text && s.header.text.length > 0)
              ) {
                var x = document.createElement('h2'),
                  E = s.header.text;
                0, (x.innerHTML = E), A.appendChild(x);
              }
              (f += '#JSQuestion .survey-header { ' + this.addCssAttribute('background', s.header.background) + ' }\n'),
                (f +=
                  '#JSQuestion .survey-header h2 { ' +
                  this.addCssAttribute('padding', s.header.padding) +
                  this.addCssAttribute('margin', s.header.margin) +
                  this.addCssAttribute('font-family', s.header.font) +
                  this.addCssAttribute('font-size', s.header.fontSize) +
                  this.addCssAttribute('color', s.header.color) +
                  this.addCssAttribute('border', s.header.border) +
                  ' }\n');
              var J = document.createElement('div');
              (J.className = 'survey-question'),
                (J.style.background = s.question.background),
                (J.id = 'bowencraggssurveywidgetquestion'),
                (J.innerHTML = s.question.text),
                (f +=
                  '#JSQuestion .survey-question { ' +
                  this.addCssAttribute('padding', s.question.padding) +
                  this.addCssAttribute('margin', s.question.margin) +
                  this.addCssAttribute('font-family', s.question.font) +
                  this.addCssAttribute('font-size', s.question.fontSize) +
                  this.addCssAttribute('color', s.question.color) +
                  this.addCssAttribute('border', s.question.border) +
                  ' }\n');
              var j = document.createElement('div');
              (j.className = 'survey-buttons'),
                (f +=
                  '#JSQuestion .survey-buttons { ' +
                  this.addCssAttribute('clear', 'both') +
                  this.addCssAttribute('padding', s.answers.padding) +
                  this.addCssAttribute('border-top', s.answers.borderTop) +
                  this.addCssAttribute('border-bottom', s.answers.borderBottom) +
                  ' }\n'),
                (f += '#JSQuestion .survey-buttons:after { content: ""; display: table; clear: both; }\n');
              var O = document.createElement('a');
              (O.className = 'survey-no'),
                (O.href = '#'),
                (O.tabIndex = 0),
                (O.innerHTML = s.answer1.text),
                (f +=
                  '#JSQuestion .survey-no { ' +
                  this.addCssAttribute('background', s.answer1.background) +
                  this.addCssAttribute('padding', s.answer1.padding) +
                  this.addCssAttribute('margin', s.answer1.margin) +
                  this.addCssAttribute('font-family', s.answer1.font) +
                  this.addCssAttribute('font-size', s.answer1.fontSize) +
                  this.addCssAttribute('color', s.answer1.color) +
                  this.addCssAttribute('border', s.answer1.border) +
                  this.addCssAttribute('display', 'block') +
                  this.addCssAttribute('float', 'left') +
                  this.addCssAttribute('width', 'auto') +
                  this.addCssAttribute('text-decoration', 'none') +
                  this.addCssAttribute('font-weight', 'bold') +
                  ' }\n'),
                (f +=
                  '#JSQuestion .survey-no:focus { ' +
                  this.addCssAttribute('background', s.answer1.color) +
                  this.addCssAttribute('color', s.answer1.background) +
                  this.addCssAttribute('outline', '1px solid ' + s.answer1.background) +
                  ' }\n'),
                (O.onclick = function (e) {
                  BowenCraggs.surveywidget.JSSurvey.dismiss(), e.preventDefault();
                });
              var T = document.createElement('a');
              if (
                ((T.className = 'survey-yes'),
                (T.href = BowenCraggs.surveywidget.JSSurvey.getSurveyURL(i)),
                (T.tabIndex = 0),
                (T.innerHTML = s.answer2.text),
                void 0 !== s.screenreader_new_window_warning && s.screenreader_new_window_warning.length > 0)
              )
                var B = s.screenreader_new_window_warning;
              else if (
                void 0 !== this.JSSsettings.survey.surveys.screenreader_new_window_warning &&
                this.JSSsettings.survey.surveys.screenreader_new_window_warning.length > 0
              )
                B = this.JSSsettings.survey.surveys.screenreader_new_window_warning;
              if (
                (void 0 !== B && B.length > 0 && (T.innerHTML += '<span class="sr-only"> (' + B + ')</span>'),
                (f +=
                  '#JSQuestion .survey-yes { ' +
                  this.addCssAttribute('background', s.answer2.background) +
                  this.addCssAttribute('padding', s.answer2.padding) +
                  this.addCssAttribute('margin', s.answer2.margin) +
                  this.addCssAttribute('font-family', s.answer2.font) +
                  this.addCssAttribute('font-size', s.answer2.fontSize) +
                  this.addCssAttribute('color', s.answer2.color) +
                  this.addCssAttribute('border', s.answer2.border) +
                  this.addCssAttribute('display', 'block') +
                  this.addCssAttribute('float', 'right') +
                  this.addCssAttribute('width', 'auto') +
                  this.addCssAttribute('text-decoration', 'none') +
                  this.addCssAttribute('font-weight', 'bold') +
                  ' }\n'),
                (f +=
                  '#JSQuestion .survey-yes:focus { ' +
                  this.addCssAttribute('background', s.answer2.color) +
                  this.addCssAttribute('color', s.answer2.background) +
                  ' }\n'),
                (T.onclick = function () {
                  var e = BowenCraggs.surveywidget.JSSurvey,
                    t = BowenCraggs.surveywidget.JSSurvey.JSSsettings.survey.surveys[i[1]],
                    n = c + 'Yes';
                  e.writeCookie(n, 1, o, t.expiry);
                  var r = BowenCraggs.surveywidget.JSSurvey.getSurveyURL(i);
                  return (
                    r.length > 0 &&
                    (t.gaEvents && e.sendGoogleEvent(t, 'Proceeded'),
                    '_self' == t.presentation
                      ? (document.location.href = r)
                      : 'new' == t.presentation
                      ? e.openURL({
                          url: r,
                          winName: t.presentation,
                          chrome:
                            'width=' +
                            t.windowWidth +
                            ',height=' +
                            t.windowHeight +
                            ',resizable=' +
                            t.windowResize +
                            ',scrollbars=' +
                            t.windowScrolling +
                            ',menubar=' +
                            t.windowMenu +
                            ',status=' +
                            t.windowStatus +
                            ',location=' +
                            t.windowLocation,
                        })
                      : e.openURL({ url: r, winName: t.presentation }),
                    e.onlaunchsurvey(),
                    e.removeModal(),
                    !1)
                  );
                }),
                j.appendChild(O),
                j.appendChild(T),
                S.appendChild(A),
                S.appendChild(J),
                S.appendChild(j),
                void 0 !== s.screenreader_text && s.screenreader_text.length > 0)
              )
                var N = s.screenreader_text;
              else if (
                void 0 !== this.JSSsettings.survey.surveys.screenreader_text &&
                this.JSSsettings.survey.surveys.screenreader_text.length > 0
              )
                N = this.JSSsettings.survey.surveys.screenreader_text;
              if (void 0 !== N && N.length > 0) {
                var L = document.createElement('span');
                (L.className = 'sr-only'),
                  (L.innerHTML = N),
                  (f +=
                    '#JSQuestion .sr-only { border: 0 !important; clip: rect(1px, 1px, 1px, 1px) !important; -webkit-clip-path: inset(50%) !important; clip-path: inset(50%) !important;  height: 1px !important; margin: -1px !important; overflow: hidden !important; padding: 0 !important; position: absolute !important; width: 1px !important; white-space: nowrap !important; }'),
                  p.appendChild(L);
              }
              p.appendChild(S), this.addCss(f);
              var I = BowenCraggs.surveywidget.JSSurvey,
                z = BowenCraggs.surveywidget.JSSurvey.JSSsettings.survey.surveys[i[1]];
              if (void 0 === z.trapfocus || '0' != z.trapfocus) {
                var D = n(6);
                I.focusTrap = D.createFocusTrap(p, {
                  onDeactivate: function () {
                    t.dismiss();
                  },
                  clickOutsideDeactivates: !0,
                });
              }
              setTimeout(function () {
                var e = BowenCraggs.surveywidget.JSSurvey,
                  t = e.target,
                  n = BowenCraggs.surveywidget.JSSurvey.JSSsettings.survey.surveys[i[1]];
                (void 0 !== n.trapfocus && '0' == n.trapfocus) || (e.focusTrap.activate(), t.appendChild(g)),
                  t.appendChild(p),
                  s.mWindow.autocenter &&
                    ((p.style.marginLeft = (p.offsetWidth / 2) * -1 + 'px'),
                    (p.style.marginTop = (p.offsetHeight / 2) * -1 + 'px')),
                  n.gaEvents && e.sendGoogleEvent(n, 'Displayed'),
                  e.callback(),
                  e.ondisplay();
              }, BowenCraggs.surveywidget.JSSurvey.JSSsettings.survey.surveys[i[1]].timer);
            }
          }
        },
        getCookiePath: function (e) {
          for (var t = e[0], n = '/', r = (t = (t = (t = t.split('://'))[1]).split('/')).length, i = 1; i < r; i++)
            (n += t[i]), (n += '/');
          return (n = n.replace('//', '/'));
        },
        dismiss: function () {
          var e = BowenCraggs.surveywidget.JSSurvey,
            t = BowenCraggs.surveywidget.JSSurvey.JSSsettings.survey.surveys[this.matchedURL[1]],
            n = this.matchedURL[1] + 'No',
            r = e.readCookie(n),
            i = this.getCookiePath(this.matchedURL);
          if ('' == r) (r = parseInt(r)), e.writeCookie(n, 1, i, t.expiry);
          else {
            var o = (r = parseInt(r)) + 1;
            e.writeCookie(n, o, i, t.expiry);
          }
          return t.gaEvents && e.sendGoogleEvent(t, 'Dismissed'), e.removeModal(), e.ondismiss(), !1;
        },
        removeModal: function () {
          var e = BowenCraggs.surveywidget.JSSurvey;
          'object' === r(e.focusTrap) && e.focusTrap.deactivate({ onDeactivate: !1 });
          var t = document.getElementById('JSOverlay');
          null != t && t.parentNode.removeChild(t);
          var n = document.getElementById('JSQuestion');
          null != n && n.parentNode.removeChild(n);
        },
        openURL: function (e) {
          window.open(e.url, e.winName, e.chrome);
        },
        getSurveyURL: function (e) {
          for (var t = e[2].length, n = '', r = 0; r < t; r++)
            'url' == e[2][r][1]
              ? (n += '&' + e[2][r][0] + '=' + document.location.href)
              : 'useragent' == e[2][r][1]
              ? (n += '&' + e[2][r][0] + '=' + navigator.userAgent)
              : 'google_client_id' == e[2][r][1]
              ? (n += '&' + e[2][r][0] + '=' + this.getGoogleClientID())
              : 'google_linker_param' == e[2][r][1]
              ? (n += '&' + e[2][r][0] + '=' + this.getGoogleLinkerParam())
              : (n += '&' + e[2][r][0] + '=' + e[2][r][1]);
          n += this.getGA(BowenCraggs.surveywidget.JSSurvey.JSSsettings.survey.surveys[e[1]].gaMetrics);
          var i = BowenCraggs.surveywidget.JSSurvey.JSSsettings.survey.surveys[e[1]].surveyURL;
          return 'string' == typeof i && i.length > 0 && (i += n);
        },
        getGoogleClientID: function () {
          var e = null;
          return (
            'undefined' != typeof ga &&
              void 0 !== ga.getAll &&
              ga.getAll().forEach(function (t) {
                e = t.get('clientId');
              }),
            e
          );
        },
        getGoogleLinkerParam: function () {
          var e = null;
          return (
            'undefined' != typeof ga &&
              void 0 !== ga.getAll &&
              ga.getAll().forEach(function (t) {
                e = t.get('linkerParam');
              }),
            e
          );
        },
        sendGoogleEvent: function (e, t) {
          if ('undefined' == typeof ga || void 0 === ga.getAll) return !1;
          var n = 'Bowen Craggs Survey',
            r = 'Pop Up',
            i = null;
          void 0 !== e.gaEventsCategory && e.gaEventsCategory.length > 0 && (n = e.gaEventsCategory),
            void 0 !== e.name && e.name.length > 0 && (r = r + ': ' + e.name);
          var o = { hitType: 'event', eventCategory: n, eventAction: r, eventLabel: t };
          void 0 !== e.gaEventsUA && e.gaEventsUA.length > 0
            ? ((i = (i = e.gaEventsUA).split(/[, ]+/)),
              ga.getAll().forEach(function (e) {
                i.includes(e.get('trackingId')) && e.send(o);
              }))
            : ga.getAll().forEach(function (e) {
                e.send(o);
              });
        },
        getGA: function (e) {
          function t(e, t, n) {
            if (!e || '' == e || !t || '' == t || !n || '' == n) return '-';
            var r,
              i,
              o,
              a = '-';
            return (
              (r = e.indexOf(t)),
              (o = t.indexOf('=') + 1),
              r > -1 && ((i = e.indexOf(n, r)) < 0 && (i = e.length), (a = e.substring(r + o, i))),
              a
            );
          }
          var n = t(document.cookie, '__utmz=', ';'),
            r = '';
          if ('-' != n) {
            var i = t(n, 'utmcsr=', '|'),
              o = t(n, 'utmcmd=', '|'),
              a = t(n, 'utmctr=', '|'),
              s = t(n, 'utmcct=', '|'),
              u = t(n, 'utmccn=', '|'),
              c = e.questionStart;
            1 == e.source && ((r += '&q' + c + '=' + i), c++),
              1 == e.medium && ((r += '&q' + c + '=' + o), c++),
              1 == e.term && ((r += '&q' + c + '=' + a), c++),
              1 == e.content && ((r += '&q' + c + '=' + s), c++),
              1 == e.campaign && ((r += '&q' + c + '=' + u), c++);
          }
          return r;
        },
        updateSettings: function (e) {
          this.JSSurvey.defaultsDeep(e, this.JSSurvey.JSSsettings), (this.JSSurvey.JSSsettings = e);
        },
        addHiddenQuestion: function (e, t, n) {
          if (void 0 !== t) {
            var r = this.JSSurvey.JSSsettings.survey.surveys[e].surveyURL;
            void 0 !== r &&
              (this.JSSurvey.JSSsettings.survey.surveys[
                e
              ].surveyURL = BowenCraggs.surveywidget.JSSurvey.updateQueryStringParameter(r, t, n));
          }
          return this.JSSurvey.JSSsettings.survey.surveys[e].surveyURL;
        },
        removeHiddenQuestion: function (e, t) {
          if (void 0 !== t) {
            var n = this.JSSurvey.JSSsettings.survey.surveys[e].surveyURL;
            void 0 !== n &&
              (this.JSSurvey.JSSsettings.survey.surveys[
                e
              ].surveyURL = BowenCraggs.surveywidget.JSSurvey.updateQueryStringParameter(n, t));
          }
          return this.JSSurvey.JSSsettings.survey.surveys[e].surveyURL;
        },
        updateQueryStringParameter: function (e, t, n) {
          var r = new RegExp('([?&])' + t + '=.*?(&|$)', 'i'),
            i = -1 !== e.indexOf('?') ? '&' : '?',
            o = t + '=' + n;
          if ((void 0 === n || '' === n) && ((o = ''), !e.match(r))) return e;
          var a = e;
          return e.match(r)
            ? ('&' == (a = e.replace(r, '$1' + o + '$2')).charAt(a.length - 1) && (a = a.slice(0, -1)), a)
            : e + i + o;
        },
        writeCookie: function (e, t, n, r, i, o) {
          var a = new Date();
          a.setTime(a.getTime()), r && (r = 1e3 * r * 60 * 60 * 24);
          var s = new Date(a.getTime() + r);
          o = 'https:' == document.location.protocol;
          var u = e + '=' + escape(t);
          r && (u += ';expires=' + s.toGMTString()),
            n && (u += ';path=' + n),
            i && (u += ';domain=' + i),
            o && (u += ';secure'),
            (u += ';SameSite=Strict'),
            (document.cookie = u);
        },
        readCookie: function (e) {
          if (document.cookie.length > 0) {
            var t = document.cookie.indexOf(e + '=');
            if (-1 != t) {
              t = t + e.length + 1;
              var n = document.cookie.indexOf(';', t);
              return -1 == n && (n = document.cookie.length), unescape(document.cookie.substring(t, n));
            }
          }
          return '';
        },
        deleteAllCookies: function () {
          for (var e = document.cookie.split(';'), t = 0; t < e.length; t++) {
            var n = e[t],
              r = n.indexOf('='),
              i = r > -1 ? n.substr(0, r) : n;
            document.cookie = i + '=;expires=Thu, 01 Jan 1970 00:00:00 GMT';
          }
        },
        isTestMode: function () {
          var e = this.readCookie('JSStestmode');
          return !(!e || 1 != e);
        },
        getSearchParameter: function () {
          var e = window.location.search.substr(1);
          return null != e && '' != e ? this.transformToAssocArray(e) : {};
        },
        transformToAssocArray: function (e) {
          for (var t = {}, n = e.split('&'), r = 0; r < n.length; r++) {
            var i = n[r].split('=');
            t[i[0]] = i[1];
          }
          return t;
        },
        addCss: function (e) {
          var t = document.head || document.getElementsByTagName('head')[0],
            n = document.createElement('style');
          n.setAttribute('type', 'text/css'),
            n.styleSheet ? (n.styleSheet.cssText = e) : n.appendChild(document.createTextNode(e)),
            t.appendChild(n);
        },
        addCssAttribute: function (e, t) {
          return null == t || 0 == t.length ? '' : e + ': ' + t + '; ';
        },
        getElementsByTagName: function (e, t) {
          return e.getElementsByTagName
            ? e.getElementsByTagName(t)
            : (function (e, n) {
                return null == n && (n = document), n.getElementsByTagName(t);
              })(0, e);
        },
        getElementsByClassName: function (e, t) {
          return e.getElementsByClassName
            ? e.getElementsByClassName(t)
            : (function (e, t) {
                null == t && (t = document);
                var n,
                  r,
                  i = [],
                  o = t.getElementsByTagName('*'),
                  a = o.length,
                  s = new RegExp('(^|\\s)' + e + '(\\s|$)');
                for (n = 0, r = 0; n < a; n++) s.test(o[n].className) && ((i[r] = o[n]), r++);
                return i;
              })(t, e);
        },
        callback: function () {},
        ondisplay: function () {},
        ondismiss: function () {},
        onlaunchsurvey: function () {
          this.ondismiss();
        },
      }),
        (t.surveywidget = e);
    }.call(this));
  },
  function (e, t, n) {
    (function (e, n) {
      var r = /^\[object .+?Constructor\]$/,
        i = /^(?:0|[1-9]\d*)$/,
        o = {};
      (o['[object Float32Array]'] = o['[object Float64Array]'] = o['[object Int8Array]'] = o['[object Int16Array]'] = o[
        '[object Int32Array]'
      ] = o['[object Uint8Array]'] = o['[object Uint8ClampedArray]'] = o['[object Uint16Array]'] = o[
        '[object Uint32Array]'
      ] = !0),
        (o['[object Arguments]'] = o['[object Array]'] = o['[object ArrayBuffer]'] = o['[object Boolean]'] = o[
          '[object DataView]'
        ] = o['[object Date]'] = o['[object Error]'] = o['[object Function]'] = o['[object Map]'] = o[
          '[object Number]'
        ] = o['[object Object]'] = o['[object RegExp]'] = o['[object Set]'] = o['[object String]'] = o[
          '[object WeakMap]'
        ] = !1);
      var a = 'object' == typeof e && e && e.Object === Object && e,
        s = 'object' == typeof self && self && self.Object === Object && self,
        u = a || s || Function('return this')(),
        c = t && !t.nodeType && t,
        d = c && 'object' == typeof n && n && !n.nodeType && n,
        l = d && d.exports === c,
        f = l && a.process,
        g = (function () {
          try {
            var e = d && d.require && d.require('util').types;
            return e || (f && f.binding && f.binding('util'));
          } catch (e) {}
        })(),
        v = g && g.isTypedArray;
      function p(e, t, n) {
        switch (n.length) {
          case 0:
            return e.call(t);
          case 1:
            return e.call(t, n[0]);
          case 2:
            return e.call(t, n[0], n[1]);
          case 3:
            return e.call(t, n[0], n[1], n[2]);
        }
        return e.apply(t, n);
      }
      var h,
        y,
        b,
        m = Array.prototype,
        w = Function.prototype,
        S = Object.prototype,
        C = u['__core-js_shared__'],
        _ = w.toString,
        k = S.hasOwnProperty,
        A = (h = /[^.]+$/.exec((C && C.keys && C.keys.IE_PROTO) || '')) ? 'Symbol(src)_1.' + h : '',
        x = S.toString,
        E = _.call(Object),
        J = RegExp(
          '^' +
            _.call(k)
              .replace(/[\\^$.*+?()[\]{}|]/g, '\\$&')
              .replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') +
            '$'
        ),
        j = l ? u.Buffer : void 0,
        O = u.Symbol,
        T = u.Uint8Array,
        B = j ? j.allocUnsafe : void 0,
        N =
          ((y = Object.getPrototypeOf),
          (b = Object),
          function (e) {
            return y(b(e));
          }),
        L = Object.create,
        I = S.propertyIsEnumerable,
        z = m.splice,
        D = O ? O.toStringTag : void 0,
        M = (function () {
          try {
            var e = de(Object, 'defineProperty');
            return e({}, '', {}), e;
          } catch (e) {}
        })(),
        P = j ? j.isBuffer : void 0,
        R = Math.max,
        U = Date.now,
        F = de(u, 'Map'),
        q = de(Object, 'create'),
        G = (function () {
          function e() {}
          return function (t) {
            if (!Ce(t)) return {};
            if (L) return L(t);
            e.prototype = t;
            var n = new e();
            return (e.prototype = void 0), n;
          };
        })();
      function H(e) {
        var t = -1,
          n = null == e ? 0 : e.length;
        for (this.clear(); ++t < n; ) {
          var r = e[t];
          this.set(r[0], r[1]);
        }
      }
      function Q(e) {
        var t = -1,
          n = null == e ? 0 : e.length;
        for (this.clear(); ++t < n; ) {
          var r = e[t];
          this.set(r[0], r[1]);
        }
      }
      function W(e) {
        var t = -1,
          n = null == e ? 0 : e.length;
        for (this.clear(); ++t < n; ) {
          var r = e[t];
          this.set(r[0], r[1]);
        }
      }
      function $(e) {
        var t = (this.__data__ = new Q(e));
        this.size = t.size;
      }
      function Y(e, t) {
        var n = ye(e),
          r = !n && he(e),
          i = !n && !r && me(e),
          o = !n && !r && !i && ke(e),
          a = n || r || i || o,
          s = a
            ? (function (e, t) {
                for (var n = -1, r = Array(e); ++n < e; ) r[n] = t(n);
                return r;
              })(e.length, String)
            : [],
          u = s.length;
        for (var c in e)
          (!t && !k.call(e, c)) ||
            (a &&
              ('length' == c ||
                (i && ('offset' == c || 'parent' == c)) ||
                (o && ('buffer' == c || 'byteLength' == c || 'byteOffset' == c)) ||
                le(c, u))) ||
            s.push(c);
        return s;
      }
      function V(e, t, n) {
        ((void 0 !== n && !pe(e[t], n)) || (void 0 === n && !(t in e))) && Z(e, t, n);
      }
      function K(e, t, n) {
        var r = e[t];
        (k.call(e, t) && pe(r, n) && (void 0 !== n || t in e)) || Z(e, t, n);
      }
      function X(e, t) {
        for (var n = e.length; n--; ) if (pe(e[n][0], t)) return n;
        return -1;
      }
      function Z(e, t, n) {
        '__proto__' == t && M ? M(e, t, { configurable: !0, enumerable: !0, value: n, writable: !0 }) : (e[t] = n);
      }
      (H.prototype.clear = function () {
        (this.__data__ = q ? q(null) : {}), (this.size = 0);
      }),
        (H.prototype.delete = function (e) {
          var t = this.has(e) && delete this.__data__[e];
          return (this.size -= t ? 1 : 0), t;
        }),
        (H.prototype.get = function (e) {
          var t = this.__data__;
          if (q) {
            var n = t[e];
            return '__lodash_hash_undefined__' === n ? void 0 : n;
          }
          return k.call(t, e) ? t[e] : void 0;
        }),
        (H.prototype.has = function (e) {
          var t = this.__data__;
          return q ? void 0 !== t[e] : k.call(t, e);
        }),
        (H.prototype.set = function (e, t) {
          var n = this.__data__;
          return (this.size += this.has(e) ? 0 : 1), (n[e] = q && void 0 === t ? '__lodash_hash_undefined__' : t), this;
        }),
        (Q.prototype.clear = function () {
          (this.__data__ = []), (this.size = 0);
        }),
        (Q.prototype.delete = function (e) {
          var t = this.__data__,
            n = X(t, e);
          return !(n < 0) && (n == t.length - 1 ? t.pop() : z.call(t, n, 1), --this.size, !0);
        }),
        (Q.prototype.get = function (e) {
          var t = this.__data__,
            n = X(t, e);
          return n < 0 ? void 0 : t[n][1];
        }),
        (Q.prototype.has = function (e) {
          return X(this.__data__, e) > -1;
        }),
        (Q.prototype.set = function (e, t) {
          var n = this.__data__,
            r = X(n, e);
          return r < 0 ? (++this.size, n.push([e, t])) : (n[r][1] = t), this;
        }),
        (W.prototype.clear = function () {
          (this.size = 0), (this.__data__ = { hash: new H(), map: new (F || Q)(), string: new H() });
        }),
        (W.prototype.delete = function (e) {
          var t = ce(this, e).delete(e);
          return (this.size -= t ? 1 : 0), t;
        }),
        (W.prototype.get = function (e) {
          return ce(this, e).get(e);
        }),
        (W.prototype.has = function (e) {
          return ce(this, e).has(e);
        }),
        (W.prototype.set = function (e, t) {
          var n = ce(this, e),
            r = n.size;
          return n.set(e, t), (this.size += n.size == r ? 0 : 1), this;
        }),
        ($.prototype.clear = function () {
          (this.__data__ = new Q()), (this.size = 0);
        }),
        ($.prototype.delete = function (e) {
          var t = this.__data__,
            n = t.delete(e);
          return (this.size = t.size), n;
        }),
        ($.prototype.get = function (e) {
          return this.__data__.get(e);
        }),
        ($.prototype.has = function (e) {
          return this.__data__.has(e);
        }),
        ($.prototype.set = function (e, t) {
          var n = this.__data__;
          if (n instanceof Q) {
            var r = n.__data__;
            if (!F || r.length < 199) return r.push([e, t]), (this.size = ++n.size), this;
            n = this.__data__ = new W(r);
          }
          return n.set(e, t), (this.size = n.size), this;
        });
      var ee,
        te = function (e, t, n) {
          for (var r = -1, i = Object(e), o = n(e), a = o.length; a--; ) {
            var s = o[ee ? a : ++r];
            if (!1 === t(i[s], s, i)) break;
          }
          return e;
        };
      function ne(e) {
        return null == e
          ? void 0 === e
            ? '[object Undefined]'
            : '[object Null]'
          : D && D in Object(e)
          ? (function (e) {
              var t = k.call(e, D),
                n = e[D];
              try {
                e[D] = void 0;
                var r = !0;
              } catch (e) {}
              var i = x.call(e);
              r && (t ? (e[D] = n) : delete e[D]);
              return i;
            })(e)
          : (function (e) {
              return x.call(e);
            })(e);
      }
      function re(e) {
        return _e(e) && '[object Arguments]' == ne(e);
      }
      function ie(e) {
        return (
          !(
            !Ce(e) ||
            (function (e) {
              return !!A && A in e;
            })(e)
          ) &&
          (we(e) ? J : r).test(
            (function (e) {
              if (null != e) {
                try {
                  return _.call(e);
                } catch (e) {}
                try {
                  return e + '';
                } catch (e) {}
              }
              return '';
            })(e)
          )
        );
      }
      function oe(e) {
        if (!Ce(e))
          return (function (e) {
            var t = [];
            if (null != e) for (var n in Object(e)) t.push(n);
            return t;
          })(e);
        var t = fe(e),
          n = [];
        for (var r in e) ('constructor' != r || (!t && k.call(e, r))) && n.push(r);
        return n;
      }
      function ae(e, t, n, r, i) {
        e !== t &&
          te(
            t,
            function (o, a) {
              if ((i || (i = new $()), Ce(o)))
                !(function (e, t, n, r, i, o, a) {
                  var s = ge(e, n),
                    u = ge(t, n),
                    c = a.get(u);
                  if (c) return void V(e, n, c);
                  var d = o ? o(s, u, n + '', e, t, a) : void 0,
                    l = void 0 === d;
                  if (l) {
                    var f = ye(u),
                      g = !f && me(u),
                      v = !f && !g && ke(u);
                    (d = u),
                      f || g || v
                        ? ye(s)
                          ? (d = s)
                          : _e((m = s)) && be(m)
                          ? (d = (function (e, t) {
                              var n = -1,
                                r = e.length;
                              t || (t = Array(r));
                              for (; ++n < r; ) t[n] = e[n];
                              return t;
                            })(s))
                          : g
                          ? ((l = !1),
                            (d = (function (e, t) {
                              if (t) return e.slice();
                              var n = e.length,
                                r = B ? B(n) : new e.constructor(n);
                              return e.copy(r), r;
                            })(u, !0)))
                          : v
                          ? ((l = !1),
                            (p = u),
                            (h = !0
                              ? ((y = p.buffer), (b = new y.constructor(y.byteLength)), new T(b).set(new T(y)), b)
                              : p.buffer),
                            (d = new p.constructor(h, p.byteOffset, p.length)))
                          : (d = [])
                        : (function (e) {
                            if (!_e(e) || '[object Object]' != ne(e)) return !1;
                            var t = N(e);
                            if (null === t) return !0;
                            var n = k.call(t, 'constructor') && t.constructor;
                            return 'function' == typeof n && n instanceof n && _.call(n) == E;
                          })(u) || he(u)
                        ? ((d = s),
                          he(s)
                            ? (d = (function (e) {
                                return (function (e, t, n, r) {
                                  var i = !n;
                                  n || (n = {});
                                  var o = -1,
                                    a = t.length;
                                  for (; ++o < a; ) {
                                    var s = t[o],
                                      u = r ? r(n[s], e[s], s, n, e) : void 0;
                                    void 0 === u && (u = e[s]), i ? Z(n, s, u) : K(n, s, u);
                                  }
                                  return n;
                                })(e, xe(e));
                              })(s))
                            : (Ce(s) && !we(s)) ||
                              (d = (function (e) {
                                return 'function' != typeof e.constructor || fe(e) ? {} : G(N(e));
                              })(u)))
                        : (l = !1);
                  }
                  var p, h, y, b;
                  var m;
                  l && (a.set(u, d), i(d, u, r, o, a), a.delete(u));
                  V(e, n, d);
                })(e, t, a, n, ae, r, i);
              else {
                var s = r ? r(ge(e, a), o, a + '', e, t, i) : void 0;
                void 0 === s && (s = o), V(e, a, s);
              }
            },
            xe
          );
      }
      function se(e, t) {
        return ve(
          (function (e, t, n) {
            return (
              (t = R(void 0 === t ? e.length - 1 : t, 0)),
              function () {
                for (var r = arguments, i = -1, o = R(r.length - t, 0), a = Array(o); ++i < o; ) a[i] = r[t + i];
                i = -1;
                for (var s = Array(t + 1); ++i < t; ) s[i] = r[i];
                return (s[t] = n(a)), p(e, this, s);
              }
            );
          })(e, t, je),
          e + ''
        );
      }
      function ue(e, t, n, r, i, o) {
        return Ce(e) && Ce(t) && (o.set(t, e), ae(e, t, void 0, ue, o), o.delete(t)), e;
      }
      function ce(e, t) {
        var n,
          r,
          i = e.__data__;
        return (
          'string' == (r = typeof (n = t)) || 'number' == r || 'symbol' == r || 'boolean' == r
            ? '__proto__' !== n
            : null === n
        )
          ? i['string' == typeof t ? 'string' : 'hash']
          : i.map;
      }
      function de(e, t) {
        var n = (function (e, t) {
          return null == e ? void 0 : e[t];
        })(e, t);
        return ie(n) ? n : void 0;
      }
      function le(e, t) {
        var n = typeof e;
        return (
          !!(t = null == t ? 9007199254740991 : t) &&
          ('number' == n || ('symbol' != n && i.test(e))) &&
          e > -1 &&
          e % 1 == 0 &&
          e < t
        );
      }
      function fe(e) {
        var t = e && e.constructor;
        return e === (('function' == typeof t && t.prototype) || S);
      }
      function ge(e, t) {
        if (('constructor' !== t || 'function' != typeof e[t]) && '__proto__' != t) return e[t];
      }
      var ve = (function (e) {
        var t = 0,
          n = 0;
        return function () {
          var r = U(),
            i = 16 - (r - n);
          if (((n = r), i > 0)) {
            if (++t >= 800) return arguments[0];
          } else t = 0;
          return e.apply(void 0, arguments);
        };
      })(
        M
          ? function (e, t) {
              return M(e, 'toString', {
                configurable: !0,
                enumerable: !1,
                value:
                  ((n = t),
                  function () {
                    return n;
                  }),
                writable: !0,
              });
              var n;
            }
          : je
      );
      function pe(e, t) {
        return e === t || (e != e && t != t);
      }
      var he = re(
          (function () {
            return arguments;
          })()
        )
          ? re
          : function (e) {
              return _e(e) && k.call(e, 'callee') && !I.call(e, 'callee');
            },
        ye = Array.isArray;
      function be(e) {
        return null != e && Se(e.length) && !we(e);
      }
      var me =
        P ||
        function () {
          return !1;
        };
      function we(e) {
        if (!Ce(e)) return !1;
        var t = ne(e);
        return (
          '[object Function]' == t ||
          '[object GeneratorFunction]' == t ||
          '[object AsyncFunction]' == t ||
          '[object Proxy]' == t
        );
      }
      function Se(e) {
        return 'number' == typeof e && e > -1 && e % 1 == 0 && e <= 9007199254740991;
      }
      function Ce(e) {
        var t = typeof e;
        return null != e && ('object' == t || 'function' == t);
      }
      function _e(e) {
        return null != e && 'object' == typeof e;
      }
      var ke = v
        ? (function (e) {
            return function (t) {
              return e(t);
            };
          })(v)
        : function (e) {
            return _e(e) && Se(e.length) && !!o[ne(e)];
          };
      var Ae = se(function (e) {
        return e.push(void 0, ue), p(Je, void 0, e);
      });
      function xe(e) {
        return be(e) ? Y(e, !0) : oe(e);
      }
      var Ee,
        Je =
          ((Ee = function (e, t, n, r) {
            ae(e, t, n, r);
          }),
          se(function (e, t) {
            var n = -1,
              r = t.length,
              i = r > 1 ? t[r - 1] : void 0,
              o = r > 2 ? t[2] : void 0;
            for (
              i = Ee.length > 3 && 'function' == typeof i ? (r--, i) : void 0,
                o &&
                  (function (e, t, n) {
                    if (!Ce(n)) return !1;
                    var r = typeof t;
                    return !!('number' == r ? be(n) && le(t, n.length) : 'string' == r && (t in n)) && pe(n[t], e);
                  })(t[0], t[1], o) &&
                  ((i = r < 3 ? void 0 : i), (r = 1)),
                e = Object(e);
              ++n < r;

            ) {
              var a = t[n];
              a && Ee(e, a, n, i);
            }
            return e;
          }));
      function je(e) {
        return e;
      }
      n.exports = Ae;
    }.call(this, n(4), n(5)(e)));
  },
  function (e, t) {
    var n;
    n = (function () {
      return this;
    })();
    try {
      n = n || new Function('return this')();
    } catch (e) {
      'object' == typeof window && (n = window);
    }
    e.exports = n;
  },
  function (e, t) {
    e.exports = function (e) {
      return (
        e.webpackPolyfill ||
          ((e.deprecate = function () {}),
          (e.paths = []),
          e.children || (e.children = []),
          Object.defineProperty(e, 'loaded', {
            enumerable: !0,
            get: function () {
              return e.l;
            },
          }),
          Object.defineProperty(e, 'id', {
            enumerable: !0,
            get: function () {
              return e.i;
            },
          }),
          (e.webpackPolyfill = 1)),
        e
      );
    };
  },
  function (e, t, n) {
    'use strict';
    n.r(t),
      n.d(t, 'createFocusTrap', function () {
        return _;
      });
    var r,
      i = [
        'input',
        'select',
        'textarea',
        'a[href]',
        'button',
        '[tabindex]',
        'audio[controls]',
        'video[controls]',
        '[contenteditable]:not([contenteditable="false"])',
        'details>summary:first-of-type',
        'details',
      ],
      o = i.join(','),
      a =
        'undefined' == typeof Element
          ? function () {}
          : Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector,
      s = function (e, t, n) {
        var r = Array.prototype.slice.apply(e.querySelectorAll(o));
        return t && a.call(e, o) && r.unshift(e), (r = r.filter(n));
      },
      u = function (e) {
        var t = parseInt(e.getAttribute('tabindex'), 10);
        return isNaN(t)
          ? (function (e) {
              return 'true' === e.contentEditable;
            })(e)
            ? 0
            : ('AUDIO' !== e.nodeName && 'VIDEO' !== e.nodeName && 'DETAILS' !== e.nodeName) ||
              null !== e.getAttribute('tabindex')
            ? e.tabIndex
            : 0
          : t;
      },
      c = function (e, t) {
        return e.tabIndex === t.tabIndex ? e.documentOrder - t.documentOrder : e.tabIndex - t.tabIndex;
      },
      d = function (e) {
        return 'INPUT' === e.tagName;
      },
      l = function (e) {
        return (
          (function (e) {
            return d(e) && 'radio' === e.type;
          })(e) &&
          !(function (e) {
            if (!e.name) return !0;
            var t,
              n = e.form || e.ownerDocument,
              r = function (e) {
                return n.querySelectorAll('input[type="radio"][name="' + e + '"]');
              };
            if ('undefined' != typeof window && void 0 !== window.CSS && 'function' == typeof window.CSS.escape)
              t = r(window.CSS.escape(e.name));
            else
              try {
                t = r(e.name);
              } catch (e) {
                return (
                  console.error(
                    'Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s',
                    e.message
                  ),
                  !1
                );
              }
            var i = (function (e, t) {
              for (var n = 0; n < e.length; n++) if (e[n].checked && e[n].form === t) return e[n];
            })(t, e.form);
            return !i || i === e;
          })(e)
        );
      },
      f = function (e) {
        return !(
          e.disabled ||
          (function (e) {
            return d(e) && 'hidden' === e.type;
          })(e) ||
          (function (e) {
            if ('hidden' === getComputedStyle(e).visibility) return !0;
            var t = a.call(e, 'details>summary:first-of-type') ? e.parentElement : e;
            if (a.call(t, 'details:not([open]) *')) return !0;
            for (; e; ) {
              if ('none' === getComputedStyle(e).display) return !0;
              e = e.parentElement;
            }
            return !1;
          })(e) ||
          (function (e) {
            return (
              'DETAILS' === e.tagName &&
              Array.prototype.slice.apply(e.children).some(function (e) {
                return 'SUMMARY' === e.tagName;
              })
            );
          })(e)
        );
      },
      g = function (e) {
        return !(!f(e) || l(e) || u(e) < 0);
      },
      v = i.concat('iframe').join(','),
      p = function (e) {
        if (!e) throw new Error('No node provided');
        return !1 !== a.call(e, v) && f(e);
      };
    function h(e, t, n) {
      return (
        t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (e[t] = n),
        e
      );
    }
    function y(e, t) {
      var n = Object.keys(e);
      if (Object.getOwnPropertySymbols) {
        var r = Object.getOwnPropertySymbols(e);
        t &&
          (r = r.filter(function (t) {
            return Object.getOwnPropertyDescriptor(e, t).enumerable;
          })),
          n.push.apply(n, r);
      }
      return n;
    }
    var b,
      m =
        ((b = []),
        {
          activateTrap: function (e) {
            if (b.length > 0) {
              var t = b[b.length - 1];
              t !== e && t.pause();
            }
            var n = b.indexOf(e);
            -1 === n || b.splice(n, 1), b.push(e);
          },
          deactivateTrap: function (e) {
            var t = b.indexOf(e);
            -1 !== t && b.splice(t, 1), b.length > 0 && b[b.length - 1].unpause();
          },
        }),
      w = function (e) {
        return setTimeout(e, 0);
      },
      S = function (e, t) {
        var n = -1;
        return (
          e.every(function (e, r) {
            return !t(e) || ((n = r), !1);
          }),
          n
        );
      },
      C = function (e) {
        for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++) n[r - 1] = arguments[r];
        return 'function' == typeof e ? e.apply(void 0, n) : e;
      },
      _ = function (e, t) {
        var n,
          i = document,
          o = (function (e) {
            for (var t = 1; t < arguments.length; t++) {
              var n = null != arguments[t] ? arguments[t] : {};
              t % 2
                ? y(Object(n), !0).forEach(function (t) {
                    h(e, t, n[t]);
                  })
                : Object.getOwnPropertyDescriptors
                ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n))
                : y(Object(n)).forEach(function (t) {
                    Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t));
                  });
            }
            return e;
          })({ returnFocusOnDeactivate: !0, escapeDeactivates: !0, delayInitialFocus: !0 }, t),
          a = {
            containers: [],
            tabbableGroups: [],
            nodeFocusedBeforeActivation: null,
            mostRecentlyFocusedNode: null,
            active: !1,
            paused: !1,
          },
          d = function (e) {
            return a.containers.some(function (t) {
              return t.contains(e);
            });
          },
          l = function (e) {
            var t = o[e];
            if (!t) return null;
            var n = t;
            if ('string' == typeof t && !(n = i.querySelector(t)))
              throw new Error('`'.concat(e, '` refers to no known node'));
            if ('function' == typeof t && !(n = t())) throw new Error('`'.concat(e, '` did not return a node'));
            return n;
          },
          f = function () {
            var e;
            if (null !== l('initialFocus')) e = l('initialFocus');
            else if (d(i.activeElement)) e = i.activeElement;
            else {
              var t = a.tabbableGroups[0];
              e = (t && t.firstTabbableNode) || l('fallbackFocus');
            }
            if (!e) throw new Error('Your focus-trap needs to have at least one focusable element');
            return e;
          },
          v = function () {
            if (
              ((a.tabbableGroups = a.containers
                .map(function (e) {
                  var t,
                    n,
                    r,
                    i =
                      ((n = []),
                      (r = []),
                      s(e, (t = t || {}).includeContainer, g).forEach(function (e, t) {
                        var i = u(e);
                        0 === i ? n.push(e) : r.push({ documentOrder: t, tabIndex: i, node: e });
                      }),
                      r
                        .sort(c)
                        .map(function (e) {
                          return e.node;
                        })
                        .concat(n));
                  if (i.length > 0) return { container: e, firstTabbableNode: i[0], lastTabbableNode: i[i.length - 1] };
                })
                .filter(function (e) {
                  return !!e;
                })),
              a.tabbableGroups.length <= 0 && !l('fallbackFocus'))
            )
              throw new Error(
                'Your focus-trap must have at least one container with at least one tabbable node in it at all times'
              );
          },
          b = function e(t) {
            t !== i.activeElement &&
              (t && t.focus
                ? (t.focus({ preventScroll: !!o.preventScroll }),
                  (a.mostRecentlyFocusedNode = t),
                  (function (e) {
                    return e.tagName && 'input' === e.tagName.toLowerCase() && 'function' == typeof e.select;
                  })(t) && t.select())
                : e(f()));
          },
          _ = function (e) {
            d(e.target) ||
              (C(o.clickOutsideDeactivates, e)
                ? n.deactivate({ returnFocus: o.returnFocusOnDeactivate && !p(e.target) })
                : C(o.allowOutsideClick, e) || e.preventDefault());
          },
          k = function (e) {
            var t = d(e.target);
            t || e.target instanceof Document
              ? t && (a.mostRecentlyFocusedNode = e.target)
              : (e.stopImmediatePropagation(), b(a.mostRecentlyFocusedNode || f()));
          },
          A = function (e) {
            if (
              !1 !== o.escapeDeactivates &&
              (function (e) {
                return 'Escape' === e.key || 'Esc' === e.key || 27 === e.keyCode;
              })(e)
            )
              return e.preventDefault(), void n.deactivate();
            (function (e) {
              return 'Tab' === e.key || 9 === e.keyCode;
            })(e) &&
              (function (e) {
                v();
                var t = null;
                if (a.tabbableGroups.length > 0)
                  if (
                    S(a.tabbableGroups, function (t) {
                      return t.container.contains(e.target);
                    }) < 0
                  )
                    t = e.shiftKey
                      ? a.tabbableGroups[a.tabbableGroups.length - 1].lastTabbableNode
                      : a.tabbableGroups[0].firstTabbableNode;
                  else if (e.shiftKey) {
                    var n = S(a.tabbableGroups, function (t) {
                      var n = t.firstTabbableNode;
                      return e.target === n;
                    });
                    if (n >= 0) {
                      var r = 0 === n ? a.tabbableGroups.length - 1 : n - 1;
                      t = a.tabbableGroups[r].lastTabbableNode;
                    }
                  } else {
                    var i = S(a.tabbableGroups, function (t) {
                      var n = t.lastTabbableNode;
                      return e.target === n;
                    });
                    if (i >= 0) {
                      var o = i === a.tabbableGroups.length - 1 ? 0 : i + 1;
                      t = a.tabbableGroups[o].firstTabbableNode;
                    }
                  }
                else t = l('fallbackFocus');
                t && (e.preventDefault(), b(t));
              })(e);
          },
          x = function (e) {
            C(o.clickOutsideDeactivates, e) ||
              d(e.target) ||
              C(o.allowOutsideClick, e) ||
              (e.preventDefault(), e.stopImmediatePropagation());
          },
          E = function () {
            if (a.active)
              return (
                m.activateTrap(n),
                (r = o.delayInitialFocus
                  ? w(function () {
                      b(f());
                    })
                  : b(f())),
                i.addEventListener('focusin', k, !0),
                i.addEventListener('mousedown', _, { capture: !0, passive: !1 }),
                i.addEventListener('touchstart', _, { capture: !0, passive: !1 }),
                i.addEventListener('click', x, { capture: !0, passive: !1 }),
                i.addEventListener('keydown', A, { capture: !0, passive: !1 }),
                n
              );
          },
          J = function () {
            if (a.active)
              return (
                i.removeEventListener('focusin', k, !0),
                i.removeEventListener('mousedown', _, !0),
                i.removeEventListener('touchstart', _, !0),
                i.removeEventListener('click', x, !0),
                i.removeEventListener('keydown', A, !0),
                n
              );
          };
        return (
          (n = {
            activate: function (e) {
              if (a.active) return this;
              v(), (a.active = !0), (a.paused = !1), (a.nodeFocusedBeforeActivation = i.activeElement);
              var t = e && e.onActivate ? e.onActivate : o.onActivate;
              return t && t(), E(), this;
            },
            deactivate: function (e) {
              if (!a.active) return this;
              clearTimeout(r), J(), (a.active = !1), (a.paused = !1), m.deactivateTrap(n);
              var t = e && void 0 !== e.onDeactivate ? e.onDeactivate : o.onDeactivate;
              return (
                t && t(),
                (e && void 0 !== e.returnFocus ? e.returnFocus : o.returnFocusOnDeactivate) &&
                  w(function () {
                    var e;
                    b(((e = a.nodeFocusedBeforeActivation), l('setReturnFocus') || e));
                  }),
                this
              );
            },
            pause: function () {
              return a.paused || !a.active || ((a.paused = !0), J()), this;
            },
            unpause: function () {
              return a.paused && a.active ? ((a.paused = !1), v(), E(), this) : this;
            },
            updateContainerElements: function (e) {
              var t = [].concat(e).filter(Boolean);
              return (
                (a.containers = t.map(function (e) {
                  return 'string' == typeof e ? i.querySelector(e) : e;
                })),
                a.active && v(),
                this
              );
            },
          }).updateContainerElements(e),
          n
        );
      };
  },
]);
(function () {
  BowenCraggs.surveywidget.init({
    survey: {
      surveys: {
        feedbackHtml: '',
        counter: 2,
        screenreader_text: 'Survey Invitation - press escape to dismiss', // can also be set in the individual survey design config below
        screenreader_new_window_warning: 'opens in new window', // can also be set in the individual survey design config below
        English: {
          name: 'English',
          lang: 'en', // language of this invitation - leave blank if not different from surrounding page. Use correct language codes from https://www.iana.org/assignments/language-subtag-registry/language-subtag-registry
          surveyURL: 'https://survey.clicktools.com/go?iv=nn9xdf560d6l',
          design: 'modal_English',
          presentation: '_new',
          windowWidth: '500',
          windowHeight: '600',
          windowScrolling: 'yes',
          windowResize: 'no',
          windowMenu: 'no',
          windowLocation: 'no',
          windowStatus: 'yes',
          timer: 2000,
          ratio: 3,
          frequency: 0,
          expiry: 90,
          trapfocus: 1,
          gaMetrics: {
            questionStart: 7,
            source: 1,
            medium: 1,
            term: 1,
            content: 1,
            campaign: 1,
          },
          gaEvents: true,
        },
      },
      modal_English: {
        screenreader_text: 'Survey Invitation - press escape to dismiss', // overrides default
        screenreader_new_window_warning: 'opens in new window', // overrides default
        logo: {
          url: 'https://app.bowencraggs.com/storage/images/Unilever_logo.png',
          width: '68px',
          height: '107px',
        },
        background: {
          color: '#E0E0E0',
          opacity: '60',
        },
        mWindow: {
          background: 'white',
          width: '320px',
          // "height":"120px",
          autocenter: true,
          padding: '16px',
          border: '0px',
        },
        header: {
          text: "We're looking for ways to improve Unilever.com.",
          background: '',
          backgroundImage: '',
          border: 'none',
          margin: '0',
          padding: '0px 0px',
          font: 'Arial, helvetica, sans-serif',
          fontSize: '16px',
          color: '#000',
        },
        question: {
          text: 'Do you have a few minutes to complete a short survey?',
          background: '',
          backgroundImage: '',
          border: 'none',
          margin: '0',
          padding: '5px 10px',
          font: 'Arial, helvetica, sans-serif',
          fontSize: '16px',
          color: '#000',
        },
        answers: {
          padding: '10px',
          borderTop: '0',
          borderBottom: '0',
        },
        answer1: {
          type: 'decline',
          text: 'Not this time',
          background: '#86ddf6',
          backgroundImage: '',
          border: '0px',
          margin: '3px',
          padding: '14px 54px 14px 54px',
          font: 'Arial, helvetica, sans-serif',
          fontSize: '16px',
          color: '#102385',
        },
        answer2: {
          type: 'accept',
          text: 'Yes I can help',
          background: '#86ddf6',
          backgroundImage: '',
          border: '0px',
          margin: '3px',
          padding: '14px 54px 14px 54px',
          font: 'Arial, helvetica, sans-serif',
          fontSize: '16px',
          color: '#102385',
        },
      },
    },
    jssurls: [
      [
        'https://bc.reefnet.co.uk/',
        'English',
        [
          ['q1', 1],
          ['q2', 1],
          ['q3', 1],
          ['q4', 1],
          ['q5', 'url'],
          ['q6', 'useragent'],
          ['q12', 'google_client_id'],
          ['q13', 'google_linker_param'],
        ],
      ],
      [
        'https://www.unilever.com',
        'English',
        [
          ['q1', 1],
          ['q2', 2],
          ['q3', 1],
          ['q4', 1],
          ['q5', 'url'],
          ['q6', 'useragent'],
          ['q12', 'google_client_id'],
          ['q13', 'google_linker_param'],
        ],
      ],
      [
        'http://localhost:3000',
        'English',
        [
          ['q1', 1],
          ['q2', 2],
          ['q3', 1],
          ['q4', 1],
          ['q5', 'url'],
          ['q6', 'useragent'],
          ['q12', 'google_client_id'],
          ['q13', 'google_linker_param'],
        ],
      ],
      [
        'https://uat.unilever.com',
        'English',
        [
          ['q1', 1],
          ['q2', 3],
          ['q3', 1],
          ['q4', 1],
          ['q5', 'url'],
          ['q6', 'useragent'],
          ['q12', 'google_client_id'],
          ['q13', 'google_linker_param'],
        ],
      ],
      [
        'https://qa.unilever.com',
        'English',
        [
          ['q1', 1],
          ['q2', 4],
          ['q3', 1],
          ['q4', 1],
          ['q5', 'url'],
          ['q6', 'useragent'],
          ['q12', 'google_client_id'],
          ['q13', 'google_linker_param'],
        ],
      ],
      [
        'https://stage.unilever.com',
        'English',
        [
          ['q1', 1],
          ['q2', 5],
          ['q3', 1],
          ['q4', 1],
          ['q5', 'url'],
          ['q6', 'useragent'],
          ['q12', 'google_client_id'],
          ['q13', 'google_linker_param'],
        ],
      ],
    ],
  });
}.call(this));

window.BowenCraggs.surveywidget.JSSurvey.callback = function () {
  modalcss = '#JSQuestion .survey-logo {padding: 28px 20px 20px 28px; box-sizing: content-box !important;}';
  modalcss += '#JSQuestion .survey-header {padding: 10px 10px 10px 10px; font-weight: bold !important;}';
  modalcss +=
    '#JSQuestion .survey-yes {float:none; text-align: center; transition: all ease-out 0.2s; transition-property: all; transition-duration: 0.2s; transition-timing-function: ease-out; transition-delay: 0s; color: #102385; background: linear-gradient( to bottom left, #86ddf6 50%, #102385 50%) top right; background-size:150% 800%; border:0px; outline-width: 0; font-size:12pt; font-family: Arial; font-style:normal; font-weight: bold; padding : 14px 36px 14px 36px;  }';
  modalcss +=
    '#JSQuestion .survey-no  {float:none; text-align: center; transition: all ease-out 0.2s; transition-property: all; transition-duration: 0.2s; transition-timing-function: ease-out; transition-delay: 0s; color: #102385; background: linear-gradient( to bottom left, #86ddf6 50%, #102385 50%) top right; background-size:150% 800%; border:0px; outline-width: 0; font-size:12pt; font-family: Arial; font-style:normal; font-weight: bold; padding : 14px 36px 14px 36px; margin-bottom: 10px; }';
  modalcss += '#JSQuestion .survey-yes:hover {color: #86ddf6; background-position: bottom left;}';
  modalcss += '#JSQuestion .survey-no:hover  {color: #86ddf6; background-position: bottom left;}';
  modalcss += '#JSQuestion .survey-yes:focus {color: #86ddf6; background-position: bottom left; }';
  modalcss +=
    '#JSQuestion .survey-no:focus  {color: #86ddf6; background-position: bottom left; outline: 1px solid #000; outline-offset: 0px;}';
  modalcss +=
    '#JSQuestion .survey-yes:active {background: #5a186b; border-color: #5a186b; color: #fff; border:1px solid;}';
  modalcss +=
    '#JSQuestion .survey-no:active  {background: #5a186b; border-color: #5a186b; color: #fff; border:1px solid;}';
  this.addCss(modalcss);
};
